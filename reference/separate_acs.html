<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Separate labels given to ACS data — separate_acs • cwi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Separate labels given to ACS data — separate_acs"><meta name="description" content='This is a quick wrapper around tidyr::separate() written to match the standard formatting used for ACS variable labels. These generally take the form e.g. "Total!!Male!!5 to 9 years". This function will separate values by "!!" and optionally drop the resulting "Total" column, which is generally constant for the entire data frame.'><meta property="og:description" content='This is a quick wrapper around tidyr::separate() written to match the standard formatting used for ACS variable labels. These generally take the form e.g. "Total!!Male!!5 to 9 years". This function will separate values by "!!" and optionally drop the resulting "Total" column, which is generally constant for the entire data frame.'><meta property="og:image" content="https://CT-Data-Haven.github.io/cwi/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cwi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cwi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/acs-updates.html">ACS updates</a></li>
    <li><a class="dropdown-item" href="../articles/regions.html">Regions</a></li>
    <li><a class="dropdown-item" href="../articles/shapefiles.html">Shapefiles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CT-Data-Haven/cwi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Separate labels given to ACS data</h1>
      <small class="dont-index">Source: <a href="https://github.com/CT-Data-Haven/cwi/blob/main/R/separate_acs.R" class="external-link"><code>R/separate_acs.R</code></a></small>
      <div class="d-none name"><code>separate_acs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a quick wrapper around <code><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">tidyr::separate()</a></code> written to match the standard formatting used for ACS variable labels. These generally take the form e.g. "Total!!Male!!5 to 9 years". This function will separate values by <code>"!!"</code> and optionally drop the resulting "Total" column, which is generally constant for the entire data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">separate_acs</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  col <span class="op">=</span> <span class="va">label</span>,</span>
<span>  into <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"!!"</span>,</span>
<span>  drop_total <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame such as returned by <code><a href="multi_geo_acs.html">multi_geo_acs()</a></code> or <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html" class="external-link">tidycensus::get_acs()</a></code>.</p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>Bare column name where ACS labels are. Default: label</p></dd>


<dt id="arg-into">into<a class="anchor" aria-label="anchor" href="#arg-into"></a></dt>
<dd><p>Character vector of names of new variables. If <code>NULL</code> (the default), names will be assigned as "x1", "x2," etc. If you don't want to include the Total column, this character vector only needs to include the groups other than Total (see examples).</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p>Character: separator between columns. Default: '!!'</p></dd>


<dt id="arg-drop-total">drop_total<a class="anchor" aria-label="anchor" href="#arg-drop-total"></a></dt>
<dd><p>Logical, whether to include the "Total" column that comes from separating ACS data. Default: FALSE</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">tidyr::separate</a></code></p><dl><dt><code>remove</code></dt>
<dd><p>If <code>TRUE</code>, remove input column from output data frame.</p></dd>

    <dt><code>convert</code></dt>
<dd><p>If <code>TRUE</code>, will run <code><a href="https://rdrr.io/r/utils/type.convert.html" class="external-link">type.convert()</a></code> with
<code>as.is = TRUE</code> on new columns. This is useful if the component
columns are integer, numeric or logical.</p>
<p>NB: this will cause string <code>"NA"</code>s to be converted to <code>NA</code>s.</p></dd>

    <dt><code>extra</code></dt>
<dd><p>If <code>sep</code> is a character vector, this controls what
happens when there are too many pieces. There are three valid options:</p><ul><li><p><code>"warn"</code> (the default): emit a warning and drop extra values.</p></li>
<li><p><code>"drop"</code>: drop any extra values without a warning.</p></li>
<li><p><code>"merge"</code>: only splits at most <code>length(into)</code> times</p></li>
</ul></dd>

    <dt><code>fill</code></dt>
<dd><p>If <code>sep</code> is a character vector, this controls what
happens when there are not enough pieces. There are three valid options:</p><ul><li><p><code>"warn"</code> (the default): emit a warning and fill from the right</p></li>
<li><p><code>"right"</code>: fill with missing values on the right</p></li>
<li><p><code>"left"</code>: fill with missing values on the left</p></li>
</ul></dd>


</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">tidyr::separate()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="label_census.html">label_acs</a></span><span class="op">(</span><span class="fu"><a href="multi_geo_acs.html">multi_geo_acs</a></span><span class="op">(</span><span class="st">"B01001"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Default: allow automatic labeling, in this case x1, x2, x3</span></span></span>
<span class="r-in"><span>    <span class="fu">separate_acs</span><span class="op">(</span><span class="va">age</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Drop Total column, use automatic labeling (x1 &amp; x2)</span></span></span>
<span class="r-in"><span>    <span class="fu">separate_acs</span><span class="op">(</span><span class="va">age</span>, drop_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Keep Total column; assign names total, sex, age</span></span></span>
<span class="r-in"><span>    <span class="fu">separate_acs</span><span class="op">(</span><span class="va">age</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"total"</span>, <span class="st">"sex"</span>, <span class="st">"age"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Drop Total column; only need to name sex &amp; age</span></span></span>
<span class="r-in"><span>    <span class="fu">separate_acs</span><span class="op">(</span><span class="va">age</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"age"</span><span class="op">)</span>, drop_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># Carried over from tidyr::separate, using NA in place of the Total column</span></span></span>
<span class="r-in"><span>    <span class="co"># will also drop that column and yield the same as the previous example</span></span></span>
<span class="r-in"><span>    <span class="fu">separate_acs</span><span class="op">(</span><span class="va">age</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"sex"</span>, <span class="st">"age"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Camille Seaberry.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

